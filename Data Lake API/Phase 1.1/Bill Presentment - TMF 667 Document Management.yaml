components:
  securitySchemes:
    bearer:
      bearerFormat: JWT
      description: |
        Cloud Task Master uses OAuth to enable clients to access protected resources by obtaining an
        access token as "a string representing an access
        authorization issued to the client", rather than using the resource
        owner's credentials directly.

        Tokens are issued to clients by an authorization server with the
        approval of the resource owner.  The client uses the access token to
        access the protected resources hosted by the resource server.  This
        specification describes how to make protected resource requests when
        the OAuth access token is a bearer token.

        System support 2 formats of JWT tokens:

        * Kubernetes
        * OpenId

        ## Kubernetes Token Format
        For K8S following token payload format supported:

        ```json
        {
          "iss": "kubernetes/serviceaccount",
          "kubernetes.io/serviceaccount/namespace": "ngb-ci",
          "kubernetes.io/serviceaccount/secret.name": "default-token-qggr5",
          "kubernetes.io/serviceaccount/service-account.name": "default",
          "kubernetes.io/serviceaccount/service-account.uid": "8f504a87-f0c5-407f-b408-05f5bc255e4a",
          "sub": "system:serviceaccount:ngb-ci:default"
        }
        ```

        ## OpenId Token Format
        For K8S following token payload parts are mandatory:

        ```json
        {
          "exp": 1591668071,
          "iss": "https://public-gateway-cloud-core.bill-modern-3-msk8s.openshift.sdntest.netcracker.com/auth/realms/cloud-common",
          "resource_access": {
            "account": {
              "roles": [
                "view-tasks"
              ]
            }
          },
        }
        ```
      scheme: bearer
      type: http
  schemas:
    Any: { }
    Attachment:
      type: object
      description: Complements the description of an element (for instance a product)
        through video, pictures...
      properties:
        id:
          type: string
          description: Unique identifier for this particular attachment
        href:
          type: string
          description: URI for this Attachment
        attachmentType:
          type: string
          description: Attachment type such as video, picture
        description:
          type: string
          description: A narrative text describing the content of the attachment
        mimeType:
          type: string
          description: Attachment mime type such as extension file for video, picture and
            document
        name:
          type: string
          description: The name of the attachment
        url:
          type: string
          description: Uniform Resource Locator, is a web page address (a subset of URI)
        size:
          $ref: "#/components/schemas/Quantity"
        validFor:
          $ref: "#/components/schemas/TimePeriod"
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
    AttachmentRef:
      type: object
      description: Attachment reference. An attachment complements the description of an
        element (for instance a product) through video, pictures
      properties:
        id:
          type: string
          description: Unique-Identifier for this attachment
        href:
          type: string
          description: URL serving as reference for the attachment resource
        description:
          type: string
          description: A narrative text describing the content of the attachment
        name:
          type: string
          description: Name of the related entity.
        url:
          type: string
          description: Link to the attachment media/content
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
        "@referredType":
          type: string
          description: The actual type of the target instance when needed for
            disambiguation.
      required:
        - id
    AttachmentRefOrValue:
      type: object
      description: An attachment by value or by reference. For AttachmentRefOrValue, the
        attribute type,schemaLocation and referredType are related to the
        contained entity and not to AttchmentRefOrValue itself
      properties:
        id:
          type: string
          description: Unique identifier for this particular attachment
        href:
          type: string
          description: URI for this Attachment
        attachmentType:
          type: string
          description: Attachment type such as video, picture
        description:
          type: string
          description: A narrative text describing the content of the attachment
        mimeType:
          type: string
          description: Attachment mime type such as extension file for video, picture and
            document
        name:
          type: string
          description: The name of the attachment
        url:
          type: string
          description: Uniform Resource Locator, is a web page address (a subset of URI)
        size:
          $ref: "#/components/schemas/Quantity"
        validFor:
          $ref: "#/components/schemas/TimePeriod"
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
        "@referredType":
          type: string
          description: The actual type of the target instance when needed for
            disambiguation.
    CategoryRef:
      type: object
      description: The category for grouping recommendations
      properties:
        id:
          type: string
          description: Unique identifier of a related entity.
        href:
          type: string
          description: Reference of the related entity.
        name:
          type: string
          description: Name of the related entity.
        version:
          type: string
          description: Category version
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
        "@referredType":
          type: string
          description: The actual type of the target instance when needed for
            disambiguation.
      required:
        - id
    Characteristic:
      type: object
      description: Describes a given characteristic of an object or entity through a
        name/value pair.
      required:
        - name
        - value
      properties:
        id:
          type: string
          description: Unique identifier of the characteristic
        name:
          type: string
          description: Name of the characteristic
        valueType:
          type: string
          description: Data type of the value of the characteristic
        characteristicRelationship:
          type: array
          items:
            $ref: "#/components/schemas/CharacteristicRelationship"
        value:
          $ref: "#/components/schemas/Any"
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
    CharacteristicRelationship:
      type: object
      description: Another Characteristic that is related to the current Characteristic;
      properties:
        id:
          type: string
          description: Unique identifier of the characteristic
        relationshipType:
          type: string
          description: The type of relationship
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
    Document:
      type: object
      description: Document is a tangible output from an activity
      properties:
        id:
          type: string
          description: Identifier of an instance of the document. Required to be unique
            within the document type.  Used in URIs as the identifier for
            specific instances of a type.
        href:
          type: string
          description: The URI for the object itself.
        creationDate:
          type: string
          format: date-time
          description: The date and time the document was created. A date and time
            formatted in compliance with the ISO8601 standard must be used.
        description:
          type: string
          description: free-text description of the document
        documentType:
          type: string
          description: Name of the document type
        lastUpdate:
          type: string
          format: date-time
          description: The date and time the document was last modified. A date and time
            formatted in compliance with the ISO8601 standard must be used.
        lifecycleState:
          type: string
          description: The life cycle state of the document.
        name:
          type: string
          description: A string used to give a name to the document
        version:
          type: string
          description: A particular form or variety of an artefact that is different from
            others or from the original. The form represents differences in
            properties that characterize an artefact, that are not enough to
            warrant creating a new artefact
        binaryAttachment:
          type: array
          items:
            $ref: "#/components/schemas/AttachmentRefOrValue"
        category:
          type: array
          items:
            $ref: "#/components/schemas/CategoryRef"
        characteristic:
          type: array
          items:
            $ref: "#/components/schemas/Characteristic"
        documentRelationship:
          type: array
          items:
            $ref: "#/components/schemas/DocumentRef"
        documentSpecification:
          $ref: "#/components/schemas/DocumentSpecification"
        relatedEntity:
          $ref: "#/components/schemas/RelatedEntity"
        relatedParty:
          type: array
          items:
            $ref: "#/components/schemas/RelatedParty"
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
    Document_Create:
      type: object
      description: |-
        Document is a tangible output from an activity
        Skipped properties: id,href
      properties:
        creationDate:
          type: string
          format: date-time
          description: The date and time the document was created. A date and time
            formatted in compliance with the ISO8601 standard must be used.
        description:
          type: string
          description: free-text description of the document
        documentType:
          type: string
          description: Name of the document type
        lastUpdate:
          type: string
          format: date-time
          description: The date and time the document was last modified. A date and time
            formatted in compliance with the ISO8601 standard must be used.
        lifecycleState:
          type: string
          description: The life cycle state of the document.
        name:
          type: string
          description: A string used to give a name to the document
        version:
          type: string
          description: A particular form or variety of an artefact that is different from
            others or from the original. The form represents differences in
            properties that characterize an artefact, that are not enough to
            warrant creating a new artefact
        binaryAttachment:
          type: array
          items:
            $ref: "#/components/schemas/AttachmentRefOrValue"
        category:
          type: array
          items:
            $ref: "#/components/schemas/CategoryRef"
        characteristic:
          type: array
          items:
            $ref: "#/components/schemas/Characteristic"
        documentRelationship:
          type: array
          items:
            $ref: "#/components/schemas/DocumentRef"
        documentSpecification:
          $ref: "#/components/schemas/DocumentSpecification"
        relatedEntity:
          $ref: "#/components/schemas/RelatedEntity"
        relatedParty:
          type: array
          items:
            $ref: "#/components/schemas/RelatedParty"
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
    Document_Update:
      type: object
      description: |-
        Document is a tangible output from an activity
        Skipped properties: id,href
      properties:
        creationDate:
          type: string
          format: date-time
          description: The date and time the document was created. A date and time
            formatted in compliance with the ISO8601 standard must be used.
        description:
          type: string
          description: free-text description of the document
        documentType:
          type: string
          description: Name of the document type
        lastUpdate:
          type: string
          format: date-time
          description: The date and time the document was last modified. A date and time
            formatted in compliance with the ISO8601 standard must be used.
        lifecycleState:
          type: string
          description: The life cycle state of the document.
        name:
          type: string
          description: A string used to give a name to the document
        version:
          type: string
          description: A particular form or variety of an artefact that is different from
            others or from the original. The form represents differences in
            properties that characterize an artefact, that are not enough to
            warrant creating a new artefact
        binaryAttachment:
          type: array
          items:
            $ref: "#/components/schemas/AttachmentRefOrValue"
        category:
          type: array
          items:
            $ref: "#/components/schemas/CategoryRef"
        characteristic:
          type: array
          items:
            $ref: "#/components/schemas/Characteristic"
        documentRelationship:
          type: array
          items:
            $ref: "#/components/schemas/DocumentRef"
        documentSpecification:
          $ref: "#/components/schemas/DocumentSpecification"
        relatedEntity:
          $ref: "#/components/schemas/RelatedEntity"
        relatedParty:
          type: array
          items:
            $ref: "#/components/schemas/RelatedParty"
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
    DocumentRef:
      type: object
      properties:
        id:
          type: string
          description: Identifier of the document
        href:
          type: string
          description: The URI for the object itself.
        name:
          type: string
          description: Name of the related entity.
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
        "@referredType":
          type: string
          description: The actual type of the target instance when needed for
            disambiguation.
      required:
        - id
    DocumentSpecification:
      type: object
      description: A document specification reference
      properties:
        id:
          type: string
          description: Indentifier of the DocumentSpecification
        href:
          type: string
          description: The URI for the object itself.
        URL:
          type: string
          description: URL of the Document Specification
        name:
          type: string
          description: a String. Name of the DocumentSpecification
        version:
          type: string
          description: A string, a version of the DocumentSpecification.
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
    EntityRef:
      type: object
      description: Entity reference schema to be use for all entityRef class.
      properties:
        id:
          type: string
          description: Unique identifier of a related entity.
        href:
          type: string
          description: Reference of the related entity.
        name:
          type: string
          description: Name of the related entity.
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
        "@referredType":
          type: string
          description: The actual type of the target instance when needed for
            disambiguation.
      required:
        - id
    Quantity:
      type: object
      description: An amount in a given unit
      properties:
        amount:
          default: 1
          type: number
          format: float
          description: Numeric value in a given unit
        units:
          type: string
          description: Unit
    RelatedEntity:
      type: object
      description: A reference to an entity, where the type of the entity is not known in
        advance.
      required:
        - "@referredType"
        - id
        - role
      properties:
        id:
          type: string
          description: Unique identifier of a related entity.
        href:
          type: string
          description: Reference of the related entity.
        name:
          type: string
          description: Name of the related entity.
        role:
          type: string
          description: The role of an entity.
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
        "@referredType":
          type: string
          description: The actual type of the target instance when needed for
            disambiguation.
    RelatedParty:
      type: object
      description: Related Entity reference. A related party defines party or party role
        linked to a specific entity.
      required:
        - "@referredType"
        - id
      properties:
        id:
          type: string
          description: Unique identifier of a related entity.
        href:
          type: string
          description: Reference of the related entity.
        name:
          type: string
          description: Name of the related entity.
        role:
          type: string
          description: Role played by the related party
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name
        "@referredType":
          type: string
          description: The actual type of the target instance when needed for
            disambiguation.
    TimePeriod:
      type: object
      description: A period of time, either as a deadline (endDateTime only) a
        startDateTime only, or both
      properties:
        endDateTime:
          type: string
          format: date-time
          description: End of the time period, using IETC-RFC-3339 format
        startDateTime:
          type: string
          format: date-time
          description: Start of the time period, using IETC-RFC-3339 format. If you define
            a start, you must also define an end
    EventSubscription:
      type: object
      description: Sets the communication endpoint address the service instance must use to
        deliver notification information
      required:
        - id
        - callback
      properties:
        id:
          type: string
          description: Id of the listener
        callback:
          type: string
          description: The callback being registered.
        query:
          type: string
          description: additional data to be passed
    EventSubscriptionInput:
      type: object
      description: Sets the communication endpoint address the service instance must use to
        deliver notification information
      required:
        - callback
      properties:
        callback:
          type: string
          description: The callback being registered.
        query:
          type: string
          description: additional data to be passed
    Error:
      description: Used when an API throws an Error, typically with a HTTP error
        response-code (3xx, 4xx, 5xx)
      type: object
      required:
        - code
        - reason
      properties:
        code:
          type: string
          description: Application relevant detail, defined in the API or a common list.
        reason:
          type: string
          description: Explanation of the reason for the error which can be shown to a
            client user.
        message:
          type: string
          description: More details and corrective actions related to the error which can
            be shown to a client user.
        status:
          type: string
          description: HTTP Error code extension
        referenceError:
          type: string
          format: uri
          description: URI of documentation describing the error.
        "@baseType":
          type: string
          description: When sub-classing, this defines the super-class.
        "@schemaLocation":
          type: string
          format: uri
          description: A URI to a JSON-Schema file that defines additional attributes and
            relationships
        "@type":
          type: string
          description: When sub-classing, this defines the sub-class entity name.
info:
  description: |-
    # Introduction
    Digital Bill Presentment provide on-demand bill generation and presentation in HTML and PDF format.

    Bills are based on HTML5 and CSS3 which provides ample opportunities for adaptive layout and integrations.
    All CSS, JS and image data included in result HTML and there will be no roundrips from client to server to improve overall perfomance.
    PDF generated from HTML bill representation.

    Digital Bill Presentment is organized around  [REST](http://en.wikipedia.org/wiki/Representational_State_Transfer) and [gRPC](https://grpc.io).
    Our API has predictable resource-oriented URLs, accepts [form-encoded](https://en.wikipedia.org/wiki/POST_(HTTP)#Use_for_submitting_web_forms)  request bodies, returns  [JSON](http://www.json.org/) responses, and uses standard HTTP response codes, authentication, and verbs.
    Digital Bill Presentment is designed by [Google API Design Guide](https://cloud.google.com/apis/design/) and inherits most of it's styling and behaviour.

    ## Supported HTTP(S) protocols:
    1. HTTP 1.0
    2. HTTP 1.1
    3. HTTP 2.0
  license:
    name: Netcracker Proprietary. All rights reserved.
    url: https://www.netcracker.com
  title: Digital Bill Presentment
  version: v1alpha3
openapi: 3.0.3
paths:
  /digitalbills/subscriptions/{subs_id}/billcycles/{bill_cycle_start_time}/statement:
    get:
      description: Return Subscription Statement Summary in PDF or HTML format to display Statement breakdown for a Bill Cycle for prepaid Subscription Base Plan.
      operationId: Subscription.SubscriptionStatement
      parameters:
        - description: 'Timeout for service call. Examples: 100u - 100msecs; 1S - 1second'
          in: header
          name: Timeout
          schema:
            type: string
        - in: path
          description: 'Subscription Id'
          name: subs_id
          required: true
          schema:
            type: string
        - in: path
          description: 'Bill cycle start time. Unix timestamp in seconds'
          name: bill_cycle_start_time
          required: true
          schema:
            format: int64
            type: integer
        - in: query
          description: 'Response Type'
          name: type
          schema:
            type: string
            enum: [ html, pdf ]
            default: html
        - in: query
          description: 'Language in which to generate the bill for. if this value is not passed, no translation shall be performed on bill data using ZDS strings. Default is language associate with billing account'
          name: language
          schema:
            type: string
            enum: [ en, ar ]
            default: eng
      responses:
        "200":
          description: A successful response. For type=html Content-Type="text/html", for type=pdf Content-Type="application/pdf
        "400":
          description: Bad request. subsc_id, bill_cycle_start_time or type has invalid format.
        '401':
          description: Authorization information is missing or invalid.
        '404':
          description: Specified subscription of bill cycle not found
      security:
        - bearer: [ ]
      summary: Subscription Statement Summary
      tags:
        - Statement
  /digitalbills/subscriptions/{subs_id}/balancehistory/statement:
    get:
      description: Display balance history in PDF and HTML format with all charges for specific data range
      operationId: Subscription.BalanceHistory
      parameters:
        - description: 'Timeout for service call. Examples: 100u - 100msecs; 1S - 1second'
          in: header
          name: Timeout
          schema:
            type: string
        - in: path
          description: 'Subscription Id'
          name: subs_id
          required: true
          schema:
            type: string
        - in: query
          description: 'Start Time for events filtering. Unix timestamp in seconds'
          name: start_time
          required: true
          schema:
            format: int64
            type: integer
        - in: query
          description: 'End Time for events filtering. Unix timestamp in seconds'
          name: end_time
          required: true
          schema:
            format: int64
            type: integer
        - in: query
          description: 'Response Type'
          name: type
          schema:
            type: string
            enum: [ html, pdf ]
            default: html
        - in: query
          description: 'Language in which to generate the bill for. if this value is not passed, no translation shall be performed on bill data using ZDS strings. Default is language associate with billing account'
          name: language
          schema:
            type: string
            enum: [ en, ar ]
            default: eng
      responses:
        "200":
          description: A successful response. For type=html Content-Type="text/html", for type=pdf Content-Type="application/pdf
        "400":
          description: Bad request. subsc_id, start_time, end_time or type has invalid format.
        '401':
          description: Authorization information is missing or invalid.
        '404':
          description: Specified subscription not found
      security:
        - bearer: [ ]
      summary: Balance History
      tags:
        - Statement
  /digitalbills/accounts/{account_num}/bills/{bill_seq}/statement:
    get:
      description: Display PDF or HTML bill for specified bill cycle of a customer
      operationId: Bill.BillImage
      parameters:
        - description: 'Timeout for service call. Examples: 100u - 100msecs; 1S - 1second'
          in: header
          name: Timeout
          schema:
            type: string
        - in: path
          description: 'Postpaid billing account to generate bill for'
          name: account_num
          required: true
          schema:
            type: string
        - in: path
          description: 'Billing sequence for postpaid account to generate bill for'
          name: bill_seq
          required: true
          schema:
            type: integer
            format: int32
        - in: query
          description: 'Format in which image should be rendered'
          name: type
          schema:
            type: string
            enum: [ html, pdf ]
            default: html
        - in: query
          description: 'Language in which to generate the bill for. if this value is not passed, no translation shall be performed on bill data using ZDS strings. Default is language associate with billing account'
          name: language
          schema:
            type: string
            enum: [ en, ar ]
            default: eng
        - in: query
          description: 'Bill Type: summary or detailed'
          name: bill_type
          schema:
            type: string
            enum: [ summary, detailed ]
            default: summary
        - in: query
          description: 'Bill Version for postpaid account, by default latest bill version shall be taken'
          name: bill_version
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: A successful response. For type=html Content-Type="text/html", for type=pdf Content-Type="application/pdf
        "400":
          description: Bad request. Request parameter(s) has invalid format.
        '401':
          description: Authorization information is missing or invalid.
        '404':
          description: Specified account or bill cycle not found
      security:
        - bearer: [ ]
      summary: Bill Image
      tags:
        - Statement

  /digitalbills/subscriptions/statement/document/{id}:
    get:
      description: |
        Return Subscription Statement Document for a Bill Cycle for prepaid Subscription Base Plan.
        Contains links to the statement itself as binary attachment URL.
      operationId: Subscription.SubscriptionStatementDocument
      parameters:
        - name: id
          description: Identifier of the Document - subscription statement id ({subs_Id}:{BillCycleStartDate}(Unix timestamp in seconds) from response of REST API https://vodafoneoman.atlassian.net/wiki/spaces/VO/pages/248382837/My+Bills+Short+View+-+TMF678+-+Customer+BIll+Management
          required: true
          schema:
            type: string
          in: path
        - name: fields
          description: Comma-separated properties to provide in response
          required: false
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Document"
              example:
                Code 200 response:
                  description: Subscription Statement Document Response
                  value:
                    id: 1601615941
                    creationDate: '2020-10-02T05:17:42.202Z'
                    description: "Subscription Statement Document. Subscription: 'SUB_12123', Bill Cycle Start Time: '1601615941'"
                    documentType: "Subscription Statement"
                    name: "subscriptionstatement_SUB_12123_1601615941"
                    binaryAttachment:
                      - id: "SUB_12123:1601615941:html:en"
                        url: "/api/v1alpha3/digitalbills/subscriptions/SUB_12123/billcycles/1601615941/statement?type=html&language=en"
                        attachmentType: "Subscription Statement HTML English"
                        description: "HTML English Subscription Statement Document. Subscription: 'SUB_12123', Bill Cycle Start Time: '1601615941'"
                        mimeType: "text/html"
                        name: "subscriptionstatement_SUB_12123_1601615941_eng.html"
                      - id: "SUB_12123:1601615941:html:ar"
                        url: "/api/v1alpha3/digitalbills/subscriptions/SUB_12123/billcycles/1601615941/statement?type=html&language=ar"
                        attachmentType: "Subscription Statement HTML Arabic"
                        description: "HTML Arabic Subscription Statement Document. Subscription: 'SUB_12123', Bill Cycle Start Time: '1601615941'"
                        mimeType: "text/html"
                        name: "subscriptionstatement_SUB_12123_1601615941_ar.html"
                      - id: "SUB_12123:1601615941:pdf:en"
                        url: "/api/v1alpha3/digitalbills/subscriptions/SUB_12123/billcycles/1601615941/statement?type=pdf&language=en"
                        attachmentType: "Subscription Statement PDF English"
                        description: "PDF English Subscription Statement Document. Subscription: 'SUB_12123', Bill Cycle Start Time: '1601615941'"
                        mimeType: "application/pdf"
                        name: "subscriptionstatement_SUB_12123_1601615941_eng.pdf"
                      - id: "SUB_12123:1601615941:pdf:ar"
                        url: "/api/v1alpha3/digitalbills/subscriptions/SUB_12123/billcycles/1601615941/statement?type=pdf&language=ar"
                        attachmentType: "Subscription Statement PDF Arabic"
                        description: "PDF Arabic Subscription Statement Document. Subscription: 'SUB_12123', Bill Cycle Start Time: '1601615941'"
                        mimeType: "application/pdf"
                        name: "subscriptionstatement_SUB_12123_1601615941_ar.pdf"
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '405':
          description: Method Not allowed
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
      security:
        - bearer: [ ]
      summary: Subscription Statement Document
      tags:
        - Document
  /digitalbills/subscriptions/{subs_id}/balancehistory/document/{id}:
    get:
      description: |
        Return Balance History Document for prepaid Subscription Base Plan.
        Contains links to the bills itself as binary attachment URL.
      operationId: Subscription.BalanceHistoryDocument
      parameters:
        - name: id
          description: |
            Identifier of the Document. Balance histrory data range in format {start_time}-{end_time} where time is
            UTC timestamp in seconds. Example: 1598918400-1600128000
          required: true
          schema:
            type: string
          in: path
        - name: fields
          description: Comma-separated properties to provide in response
          required: false
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Document"
              example:
                Code 200 response:
                  description: Balance History Document Response
                  value:
                    value:
                      id: 1601615941
                      creationDate: '2020-10-02T05:17:42.202Z'
                      description: "Balance History Document. Subscription: 'SUB_12123', Start Time: '1598918400', End Time: '1600128000'"
                      documentType: "Balance History"
                      name: "balancehistory_SUB_12123_1598918400-1600128000"
                      binaryAttachment:
                        - id: "SUB_12123:1598918400-1600128000:html:en"
                          url: "/api/v1alpha3/digitalbills/subscriptions/SUB_12123/balancehistory/statement?start_time=1598918400&end_time=1600128000&type=html&language=en"
                          attachmentType: "Balance History HTML English"
                          description: "HTML English Balance History Document. Subscription: 'SUB_12123', Start Time: '1598918400', End Time: '1600128000'"
                          mimeType: "text/html"
                          name: "balancehistory_SUB_12123_1598918400-1600128000_en.html"
                        - id: "SUB_12123:1601615941:html:ar"
                          url: "/api/v1alpha3/digitalbills/subscriptions/SUB_12123/balancehistory/statement?start_time=1598918400&end_time=1600128000&type=html&language=ar"
                          attachmentType: "Balance History HTML Arabic"
                          description: "HTML Arabic Balance History Document. Subscription: 'SUB_12123', Start Time: '1598918400', End Time: '1600128000'"
                          mimeType: "text/html"
                          name: "balancehistory_SUB_12123_1598918400-1600128000_ar.html"
                        - id: "SUB_12123:1601615941:pdf:en"
                          url: "/api/v1alpha3/digitalbills/subscriptions/SUB_12123/balancehistory/statement?start_time=1598918400&end_time=1600128000&type=pdf&language=en"
                          attachmentType: "Balance History PDF English"
                          description: "PDF English Balance History Document. Subscription: 'SUB_12123', Start Time: '1598918400', End Time: '1600128000'"
                          mimeType: "application/pdf"
                          name: "balancehistory_SUB_12123_1598918400-1600128000_en.pdf"
                        - id: "SUB_12123:1601615941:pdf:ar"
                          url: "/api/v1alpha3/digitalbills/subscriptions/SUB_12123/balancehistory/statement?start_time=1598918400&end_time=1600128000&type=pdf&language=ar"
                          attachmentType: "Balance History PDF Arabic"
                          description: "PDF Arabic Balance History Document. Subscription: 'SUB_12123', Start Time: '1598918400', End Time: '1600128000'"
                          mimeType: "application/pdf"
                          name: "balancehistory_SUB_12123_1598918400-1600128000_ar.pdf"
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '405':
          description: Method Not allowed
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
      security:
        - bearer: [ ]
      summary: Balance History Document
      tags:
        - Document
  /digitalbills/accounts/{account_num}/bills/document/{id}:
    get:
      description: |
        Return PDF or HTML bill document for specified bill cycle of a customer.
        Contains links to the bills itself as binary attachment URL.
      operationId: Bill.BillImage
      parameters:
        - name: id
          description: |
            Identifier of the Document. Bill sequence and bill version in format {billseq}:{bill_version}. Bill version may be ommitted then id will have format {billseq} and system return
            document for latest bill version. Examples:
             * With bill version: 1:2
             * Without bill version: 2
          required: true
          schema:
            type: string
          in: path
        - name: fields
          description: Comma-separated properties to provide in response
          required: false
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Document"
              example:
                Code 200 response:
                  description: Bill Document Document Response
                  value:
                    id: "1:2"
                    creationDate: '2020-10-02T05:17:42.202Z'
                    description: "Bill Document Document. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                    documentType: "Bill Image"
                    name: "billimage_BA_13095_1:2"
                    binaryAttachment:
                      - id: "BillImage:BA_13095:1:2:summary:html:en"
                        url: "/api/v1alpha3/digitalbills/accounts/{account_num}/bills/{bill_seq}/statement?bill_type=summary&type=html&language=en"
                        attachmentType: "Bill Image Summary HTML English"
                        description: "HTML English Bill Image Summary. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                        mimeType: "text/html"
                        name: "billimage_BA_13095_1:2_summary_en.html"
                      - id: "BillImage:BA_13095:1:2:detailed:html:en"
                        url: "/api/v1alpha3/digitalbills/accounts/{account_num}/bills/{bill_seq}/statement?bill_type=detailed&type=html&language=en"
                        attachmentType: "Bill Image Itemized HTML English"
                        description: "HTML English Bill Image Itemized. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                        mimeType: "text/html"
                        name: "billimage_BA_13095_1:2_detailed_en.html"
                      - id: "BillImage:BA_13095:1:2:summary:html:ar"
                        url: "api/v1alpha3/digitalbills/accounts/{account_num}/bills/{bill_seq}/statement?bill_type=summary&type=html&language=ar"
                        attachmentType: "Bill Image Summary HTML Arabic"
                        description: "HTML Arabic Bill Image Summary. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                        mimeType: "text/html"
                        name: "billimage_BA_13095_1:2_summary_ar.html"
                      - id: "BillImage:BA_13095:1:2:detailed:html:ar"
                        url: "api/v1alpha3/digitalbills/accounts/{account_num}/bills/{bill_seq}/statement?bill_type=detailed&type=html&language=ar"
                        attachmentType: "Bill Image Itemized HTML Arabic"
                        description: "HTML Arabic Bill Image Itemized. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                        mimeType: "text/html"
                        name: "billimage_BA_13095_1:2_detailed_ar.html"
                      - id: "BillImage:BA_13095:1:2:summary:pdf:en"
                        url: "/api/v1alpha3/digitalbills/accounts/{account_num}/bills/{bill_seq}/statement?bill_type=summary&type=pdf&language=en"
                        attachmentType: "Bill Image Summary PDF English"
                        description: "PDF English Bill Image Summary. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                        mimeType: "application/pdf"
                        name: "billimage_BA_13095_1:2_summary_en.pdf"
                      - id: "BillImage:BA_13095:1:2:detailed:pdf:en"
                        url: "/api/v1alpha3/digitalbills/accounts/{account_num}/bills/{bill_seq}/statement?bill_type=detailed&type=pdf&language=en"
                        attachmentType: "Bill Image Itemized PDF English"
                        description: "PDF English Bill Image Itemized. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                        mimeType: "application/pdf"
                        name: "billimage_BA_13095_1:2_detailed_en.pdf"
                      - id: "BillImage:BA_13095:1:2:summary:pdf:ar"
                        url: "api/v1alpha3/digitalbills/accounts/{account_num}/bills/{bill_seq}/statement?bill_type=summary&type=pdf&language=ar"
                        attachmentType: "Bill Image Summary PDF Arabic"
                        description: "PDF Arabic Bill Image Summary. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                        mimeType: "application/pdf"
                        name: "billimage_BA_13095_1:2_summary_ar.pdf"
                      - id: "BillImage:BA_13095:1:2:detailed:pdf:ar"
                        url: "api/v1alpha3/digitalbills/accounts/{account_num}/bills/{bill_seq}/statement?bill_type=detailed&type=pdf&language=ar"
                        attachmentType: "Bill Image Itemized PDF Arabic"
                        description: "PDF Arabic Bill Image Itemized. Billing Account: 'BA_13095', Bill Sequence: '1', Bill Version: '2'"
                        mimeType: "application/pdf"
                        name: "billimage_BA_13095_1:2_detailed_ar.pdf"
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '405':
          description: Method Not allowed
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/Error"

      security:
        - bearer: [ ]
      summary: Bill Document
      tags:
        - Document
security:
  - bearer: [ ]

tags:
  - description: |
      Statement services return statement documents with HTML and PDF format.
    name: Statement
    x-displayName: Statement Services
  - description: |
      Document services provides TMF 667 compliant API for accessing statements.
    name: Document
    x-displayName: Document Services
